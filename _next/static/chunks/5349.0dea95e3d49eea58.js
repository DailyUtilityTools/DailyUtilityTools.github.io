"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5349],{33542:(e,t,a)=>{a.d(t,{A:()=>n});var l=a(40925),i=a(37876);let n=(0,l.A)((0,i.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload")},35349:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var l=a(37876),i=a(14232),n=a(49106),r=a(1521),s=a(82702),o=a(87210),d=a(9092),c=a(92181),h=a(76686),m=a(53019),u=a(51396),x=a(29472),p=a(38901),b=a(62753),g=a(75135),v=a(33542),f=a(37079);let y=[{mimeType:"image/png",ext:"png",label:"PNG",lossy:!1},{mimeType:"image/jpeg",ext:"jpg",label:"JPEG",lossy:!0},{mimeType:"image/webp",ext:"webp",label:"WebP",lossy:!0},{mimeType:"image/bmp",ext:"bmp",label:"BMP",lossy:!1}];function j(e){return e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(1)} KB`:`${(e/1048576).toFixed(2)} MB`}function A(){let e=(0,n.A)(),t=(0,i.useRef)(null),[a,A]=(0,i.useState)(null),[w,C]=(0,i.useState)(""),[k,P]=(0,i.useState)(0),[$,F]=(0,i.useState)(null),[S,W]=(0,i.useState)("image/webp"),[M,T]=(0,i.useState)(.85),[B,D]=(0,i.useState)(null),[I,z]=(0,i.useState)(0),[E,G]=(0,i.useState)(!1),[R,H]=(0,i.useState)(""),N=(0,i.useCallback)(e=>{if(!e.type.startsWith("image/"))return void H("Please select an image file.");H(""),D(null),C(e.name),P(e.size);let t=new FileReader;t.onload=e=>{let t=e.target?.result;A(t);let a=new Image;a.onload=()=>F({w:a.width,h:a.height}),a.src=t},t.readAsDataURL(e)},[]),L=(0,i.useCallback)(e=>{e.preventDefault();let t=e.dataTransfer.files[0];t&&N(t)},[N]),_=(0,i.useCallback)(async()=>{if(a){G(!0),H("");try{let e=new Image;await new Promise((t,l)=>{e.onload=()=>t(),e.onerror=()=>l(Error("Image load failed")),e.src=a});let t=document.createElement("canvas");t.width=e.width,t.height=e.height;let l=t.getContext("2d");"image/jpeg"===S&&(l.fillStyle="#ffffff",l.fillRect(0,0,t.width,t.height)),l.drawImage(e,0,0);let i=y.find(e=>e.mimeType===S).lossy?M:void 0,n=t.toDataURL(S,i),r=n.split(",")[1],s=Math.round(3*r.length/4);D(n),z(s)}catch(e){H("Conversion failed: "+e.message)}finally{G(!1)}}},[a,S,M]),J=(0,i.useCallback)(()=>{if(!B)return;let e=y.find(e=>e.mimeType===S),t=w.replace(/\.[^.]+$/,"")||"converted",a=document.createElement("a");a.href=B,a.download=`${t}.${e.ext}`,a.click()},[B,S,w]),U=y.find(e=>e.mimeType===S);return(0,l.jsxs)(r.A,{maxWidth:"lg",sx:{py:4},children:[(0,l.jsx)(s.A,{variant:"h4",fontWeight:700,gutterBottom:!0,children:"Image Format Converter"}),(0,l.jsx)(s.A,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Convert images between PNG, JPEG, WebP, and BMP — entirely in your browser using the Canvas API."}),R&&(0,l.jsx)(o.A,{severity:"error",sx:{mb:2},children:R}),!a&&(0,l.jsxs)(d.A,{variant:"outlined",onDrop:L,onDragOver:e=>e.preventDefault(),onClick:()=>t.current?.click(),sx:{p:6,textAlign:"center",cursor:"pointer",mb:3,border:`2px dashed ${e.palette.divider}`,"&:hover":{borderColor:"primary.main",bgcolor:(0,c.X4)(e.palette.primary.main,.03)},transition:"all 0.2s"},children:[(0,l.jsx)(g.A,{sx:{fontSize:48,color:"text.secondary",mb:1}}),(0,l.jsx)(s.A,{variant:"h6",color:"text.secondary",children:"Drag & drop an image or click to select"}),(0,l.jsx)(s.A,{variant:"body2",color:"text.disabled",children:"PNG, JPEG, WebP, BMP, GIF, TIFF, AVIF…"}),(0,l.jsx)("input",{ref:t,type:"file",accept:"image/*",hidden:!0,onChange:e=>e.target.files?.[0]&&N(e.target.files[0])})]}),a&&(0,l.jsxs)(h.A,{sx:{display:"flex",gap:3,flexDirection:{xs:"column",md:"row"},mb:3},children:[(0,l.jsxs)(d.A,{variant:"outlined",sx:{flex:1,p:2},children:[(0,l.jsx)(s.A,{variant:"subtitle2",fontWeight:700,gutterBottom:!0,children:"Source"}),(0,l.jsx)(h.A,{component:"img",src:a,alt:"source",sx:{width:"100%",maxHeight:300,objectFit:"contain",borderRadius:1,mb:1}}),(0,l.jsx)(s.A,{variant:"caption",color:"text.secondary",display:"block",children:w}),(0,l.jsxs)(s.A,{variant:"caption",color:"text.secondary",display:"block",children:[$?`${$.w} \xd7 ${$.h}px — `:"",j(k)]}),(0,l.jsx)(m.A,{size:"small",sx:{mt:1},onClick:()=>{A(null),D(null)},children:"Choose another"})]}),(0,l.jsxs)(d.A,{variant:"outlined",sx:{flex:1,p:2},children:[(0,l.jsx)(s.A,{variant:"subtitle2",fontWeight:700,gutterBottom:!0,children:"Convert to"}),(0,l.jsx)(u.A,{value:S,exclusive:!0,size:"small",onChange:(e,t)=>{t&&(W(t),D(null))},sx:{mb:2,flexWrap:"wrap"},children:y.map(e=>(0,l.jsx)(x.A,{value:e.mimeType,disabled:a?.startsWith(`data:${e.mimeType}`)??!1,children:e.label},e.mimeType))}),U.lossy&&(0,l.jsxs)(h.A,{sx:{mb:2},children:[(0,l.jsxs)(s.A,{variant:"body2",gutterBottom:!0,children:["Quality: ",(0,l.jsxs)("strong",{children:[Math.round(100*M),"%"]})]}),(0,l.jsx)(p.Ay,{value:M,min:.1,max:1,step:.05,onChange:(e,t)=>{T(t),D(null)},marks:[{value:.5,label:"50%"},{value:.85,label:"85%"},{value:1,label:"100%"}],valueLabelDisplay:"auto",valueLabelFormat:e=>`${Math.round(100*e)}%`})]}),(0,l.jsx)(m.A,{variant:"contained",startIcon:E?(0,l.jsx)(b.A,{size:16,color:"inherit"}):(0,l.jsx)(f.A,{}),onClick:_,disabled:E,fullWidth:!0,children:E?"Converting…":`Convert to ${U.label}`})]}),B&&(0,l.jsxs)(d.A,{variant:"outlined",sx:{flex:1,p:2},children:[(0,l.jsxs)(s.A,{variant:"subtitle2",fontWeight:700,gutterBottom:!0,children:["Output — ",U.label]}),(0,l.jsx)(h.A,{component:"img",src:B,alt:"output",sx:{width:"100%",maxHeight:300,objectFit:"contain",borderRadius:1,mb:1}}),(0,l.jsxs)(s.A,{variant:"caption",color:"text.secondary",display:"block",children:[$?`${$.w} \xd7 ${$.h}px — `:"",j(I)]}),I<k&&(0,l.jsxs)(s.A,{variant:"caption",color:"success.main",display:"block",children:["▼ ",Math.round((1-I/k)*100),"% smaller"]}),I>k&&(0,l.jsxs)(s.A,{variant:"caption",color:"warning.main",display:"block",children:["▲ ",Math.round((I/k-1)*100),"% larger"]}),(0,l.jsx)(m.A,{variant:"contained",startIcon:(0,l.jsx)(v.A,{}),onClick:J,fullWidth:!0,sx:{mt:1},children:"Download"})]})]})]})}},75135:(e,t,a)=>{a.d(t,{A:()=>n});var l=a(40925),i=a(37876);let n=(0,l.A)((0,i.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload")}}]);