"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4215],{84215:(e,t,l)=>{l.r(t),l.d(t,{default:()=>g});var a=l(37876),r=l(14232),n=l(76686),s=l(62753),i=l(49106),c=l(18847),o=l.n(c),u=l(77328),d=l.n(u);let h=o()(async()=>(await Promise.all([l.e(4155),l.e(8745),l.e(9924),l.e(8220),l.e(4410)]).then(l.bind(l,93119))).Excalidraw,{loadableGenerated:{webpack:()=>[93119]},ssr:!1,loading:()=>(0,a.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:2},children:[(0,a.jsx)(s.A,{}),(0,a.jsx)("div",{style:{color:"gray",fontFamily:"sans-serif"},children:"Loading Whiteboard Engine..."})]})}),f="opensketch-excalidraw-v1";function g(){let e=(0,i.A)(),[t,l]=(0,r.useState)(null),[n,s]=(0,r.useState)(!1),c=(0,r.useRef)(null);(0,r.useEffect)(()=>{try{let e=localStorage.getItem(f);e&&l(JSON.parse(e))}catch(e){console.error("Failed to parse Excalidraw storage",e)}s(!0)},[]),(0,r.useEffect)(()=>{n&&c.current&&c.current.focus()},[n]);let o=(0,r.useRef)(null),u=(0,r.useCallback)((e,t)=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{let l=JSON.stringify({elements:e,appState:{viewBackgroundColor:t.viewBackgroundColor}});localStorage.setItem(f,l)},1e3)},[]);return n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d(),{children:(0,a.jsx)("link",{rel:"stylesheet",href:"/excalidraw.css"})}),(0,a.jsx)("div",{ref:c,tabIndex:0,style:{width:"100%",height:"calc(100vh - 64px)",position:"relative",outline:"none",overflow:"hidden"},children:(0,a.jsx)(h,{initialData:t,onChange:u,theme:"dark"===e.palette.mode?"dark":"light"})})]}):null}}}]);