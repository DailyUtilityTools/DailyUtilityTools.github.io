(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7851],{52126:(e,l,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/programming/TextDiffPage",function(){return t(62695)}])},62695:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>v});var i=t(37876),n=t(14232),r=t(49106),s=t(92181),a=t(1521),o=t(82702),d=t(76686),c=t(9092),p=t(99358),h=t(29351),u=t(53019),x=t(51396),m=t(29472),f=t(75283),g=t(47103);function b(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}let j=`The quick brown fox
jumps over the lazy dog.
This is unchanged.
This line was removed.
Another unchanged line.`,y=`The quick brown fox
leaps over the lazy cat.
This is unchanged.
This line was added.
Another unchanged line.`;function v(){let e=(0,r.A)(),l="dark"===e.palette.mode,[t,v]=(0,n.useState)(""),[A,k]=(0,n.useState)(""),[w,C]=(0,n.useState)("split"),[S,z]=(0,n.useState)(!1),[L,_]=(0,n.useState)(!1),[N,T]=(0,n.useState)(!1),X=(0,n.useMemo)(()=>{if(!N)return[];let e=t,l=A;return S&&(e=e.toLowerCase(),l=l.toLowerCase()),L&&(e=e.split("\n").map(e=>e.trim()).join("\n"),l=l.split("\n").map(e=>e.trim()).join("\n")),function(e,l){let t=e.split("\n"),i=l.split("\n"),n=t.length,r=i.length,s=Array.from({length:n+1},()=>Array(r+1).fill(0));for(let e=1;e<=n;e++)for(let l=1;l<=r;l++)s[e][l]=t[e-1]===i[l-1]?s[e-1][l-1]+1:Math.max(s[e-1][l],s[e][l-1]);let a=[],o=n,d=r;for(;o>0||d>0;)o>0&&d>0&&t[o-1]===i[d-1]?(a.push({op:"equal",left:t[o-1],right:i[d-1],leftLineNum:o,rightLineNum:d}),o--,d--):d>0&&(0===o||s[o][d-1]>=s[o-1][d])?(a.push({op:"insert",left:null,right:i[d-1],leftLineNum:null,rightLineNum:d}),d--):(a.push({op:"delete",left:t[o-1],right:null,leftLineNum:o,rightLineNum:null}),o--);return a.reverse()}(e,l)},[t,A,N,S,L]),q=(0,n.useMemo)(()=>({added:X.filter(e=>"insert"===e.op).length,removed:X.filter(e=>"delete"===e.op).length,equal:X.filter(e=>"equal"===e.op).length}),[X]),H=(0,n.useCallback)(()=>T(!0),[]),M=(0,n.useCallback)(()=>{v(""),k(""),T(!1)},[]),I={width:40,minWidth:40,textAlign:"right",paddingRight:8,color:e.palette.text.disabled,fontFamily:"monospace",fontSize:12,userSelect:"none",flexShrink:0},$={fontFamily:"monospace",fontSize:13,whiteSpace:"pre-wrap",wordBreak:"break-word",flex:1};return(0,i.jsxs)(a.A,{maxWidth:"xl",sx:{py:4},children:[(0,i.jsx)(o.A,{variant:"h4",fontWeight:700,gutterBottom:!0,children:"Text Diff & Compare"}),(0,i.jsx)(o.A,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Compare two texts side-by-side with line-level and word-level diff highlighting."}),!N&&(0,i.jsx)(d.A,{sx:{display:"flex",gap:2,mb:2,flexDirection:{xs:"column",md:"row"}},children:[{val:t,set:v,label:"Original Text (Left)"},{val:A,set:k,label:"Modified Text (Right)"}].map((e,l)=>(0,i.jsxs)(c.A,{variant:"outlined",sx:{flex:1,display:"flex",flexDirection:"column"},children:[(0,i.jsxs)(d.A,{sx:{px:2,py:1,borderBottom:1,borderColor:"divider",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsx)(o.A,{variant:"subtitle2",fontWeight:700,children:e.label}),(0,i.jsx)(p.A,{size:"small",onClick:()=>e.set(""),children:(0,i.jsx)(g.A,{fontSize:"small"})})]}),(0,i.jsx)(d.A,{component:"textarea",value:e.val,onChange:l=>e.set(l.target.value),placeholder:0===l?j:y,rows:18,sx:{width:"100%",p:2,border:"none",outline:"none",resize:"vertical",fontFamily:"monospace",fontSize:"0.88rem",lineHeight:1.6,bgcolor:"background.paper",color:"text.primary",boxSizing:"border-box"}})]},l))}),(0,i.jsxs)(h.A,{direction:"row",spacing:1,flexWrap:"wrap",alignItems:"center",sx:{mb:2},children:[(0,i.jsx)(u.A,{variant:"contained",onClick:H,disabled:!t||!A,children:"Compare"}),N&&(0,i.jsx)(u.A,{variant:"outlined",onClick:()=>T(!1),children:"Edit"}),(0,i.jsx)(u.A,{variant:"outlined",color:"error",startIcon:(0,i.jsx)(g.A,{}),onClick:M,children:"Clear"}),(0,i.jsx)(x.A,{size:"small",value:S?"ic":null,children:(0,i.jsx)(m.A,{value:"ic",onClick:()=>z(e=>!e),selected:S,children:"Ignore Case"})}),(0,i.jsx)(x.A,{size:"small",value:L?"iw":null,children:(0,i.jsx)(m.A,{value:"iw",onClick:()=>_(e=>!e),selected:L,children:"Ignore Whitespace"})}),N&&(0,i.jsxs)(x.A,{size:"small",value:w,exclusive:!0,onChange:(e,l)=>l&&C(l),children:[(0,i.jsx)(m.A,{value:"split",children:"Split"}),(0,i.jsx)(m.A,{value:"unified",children:"Unified"})]})]}),N&&(0,i.jsxs)(h.A,{direction:"row",spacing:1,sx:{mb:2},children:[(0,i.jsx)(f.A,{label:`+${q.added} added`,color:"success",size:"small"}),(0,i.jsx)(f.A,{label:`-${q.removed} removed`,color:"error",size:"small"}),(0,i.jsx)(f.A,{label:`${q.equal} unchanged`,size:"small",variant:"outlined"})]}),N&&X.length>0&&(0,i.jsxs)(c.A,{variant:"outlined",sx:{overflow:"auto",maxHeight:"70vh"},children:[(0,i.jsx)("style",{children:`
                        mark.diff-del { background: ${(0,s.X4)(e.palette.error.main,.4)}; border-radius: 2px; }
                        mark.diff-ins { background: ${(0,s.X4)(e.palette.success.main,.4)}; border-radius: 2px; }
                    `}),"split"===w?(0,i.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",tableLayout:"fixed"},children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{style:{background:"dark"===e.palette.mode?"#1a1a1a":"#f5f5f5"},children:[(0,i.jsx)("th",{colSpan:2,style:{padding:"4px 8px",textAlign:"left",width:"50%",fontFamily:"sans-serif",fontSize:12},children:"Original"}),(0,i.jsx)("th",{colSpan:2,style:{padding:"4px 8px",textAlign:"left",fontFamily:"sans-serif",fontSize:12},children:"Modified"})]})}),(0,i.jsx)("tbody",{children:X.map((t,n)=>{let r="delete"===t.op?(0,s.X4)(e.palette.error.main,l?.2:.09):"insert"===t.op?(0,s.X4)(e.palette.success.main,l?.05:.02):"transparent",a="insert"===t.op?(0,s.X4)(e.palette.success.main,l?.2:.09):"delete"===t.op?(0,s.X4)(e.palette.error.main,l?.05:.02):"transparent",{aHtml:o,bHtml:d}=("delete"===t.op||"insert"===t.op)&&t.left&&t.right?function(e,l){let t=e.split(/(\s+)/),i=l.split(/(\s+)/),n=Math.max(t.length,i.length),r="",s="";for(let e=0;e<n;e++){let l=t[e]??"",n=i[e]??"";l===n?(r+=b(l),s+=b(n)):(l&&(r+=`<mark class="diff-del">${b(l)}</mark>`),n&&(s+=`<mark class="diff-ins">${b(n)}</mark>`))}return{aHtml:r,bHtml:s}}(t.left,t.right):{aHtml:b(t.left??""),bHtml:b(t.right??"")};return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{style:{...I,background:r,borderRight:"1px solid rgba(128,128,128,0.15)"},children:t.leftLineNum??""}),(0,i.jsx)("td",{style:{background:r,padding:"1px 8px",borderRight:"2px solid rgba(128,128,128,0.2)",width:"50%"},children:(0,i.jsx)("span",{style:$,dangerouslySetInnerHTML:{__html:null!==t.left?"equal"!==t.op?o:b(t.left):""}})}),(0,i.jsx)("td",{style:{...I,background:a,borderRight:"1px solid rgba(128,128,128,0.15)"},children:t.rightLineNum??""}),(0,i.jsx)("td",{style:{background:a,padding:"1px 8px"},children:(0,i.jsx)("span",{style:$,dangerouslySetInnerHTML:{__html:null!==t.right?"equal"!==t.op?d:b(t.right):""}})})]},n)})})]}):(0,i.jsx)(d.A,{sx:{fontFamily:"monospace",fontSize:13},children:X.map((t,n)=>{var r;let a="insert"===(r=t.op)?(0,s.X4)(e.palette.success.main,l?.15:.08):"delete"===r?(0,s.X4)(e.palette.error.main,l?.15:.08):"transparent",o="insert"===t.op?"+":"delete"===t.op?"-":" ",c=t.left??t.right??"";return(0,i.jsxs)(d.A,{sx:{display:"flex",bgcolor:a,borderBottom:"1px solid rgba(128,128,128,0.06)"},children:[(0,i.jsx)("span",{style:I,children:t.leftLineNum??""}),(0,i.jsx)("span",{style:I,children:t.rightLineNum??""}),(0,i.jsxs)("span",{style:{...$,padding:"1px 8px",color:"insert"===t.op?e.palette.success.main:"delete"===t.op?e.palette.error.main:void 0},children:[o," ",c]})]},n)})})]})]})}}},e=>{e.O(0,[8284,7155,5283,4674,636,6593,8792],()=>e(e.s=52126)),_N_E=e.O()}]);