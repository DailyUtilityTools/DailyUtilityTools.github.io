(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[870],{76392:(e,r,t)=>{"use strict";t.d(r,{A:()=>R});var a=t(14232),n=t(69241),i=t(13323),o=t(11870),s=t(38993),l=t(34401),d=t(10493),c=t(49429),u=t(96968),p=t(65559),m=t(14457),h=t(21849);function b(e){return(0,h.Ay)("MuiLinearProgress",e)}(0,m.A)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var x=t(37876);let f=(0,s.i7)`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,g="string"!=typeof f?(0,s.AH)`
        animation: ${f} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,y=(0,s.i7)`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,v="string"!=typeof y?(0,s.AH)`
        animation: ${y} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,A=(0,s.i7)`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,j="string"!=typeof A?(0,s.AH)`
        animation: ${A} 3s infinite linear;
      `:null,w=(e,r)=>e.vars?e.vars.palette.LinearProgress[`${r}Bg`]:"light"===e.palette.mode?e.lighten(e.palette[r].main,.62):e.darken(e.palette[r].main,.5),k=(0,l.Ay)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.root,r[`color${(0,p.A)(t.color)}`],r[t.variant]]}})((0,d.A)(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter((0,c.A)()).map(([r])=>({props:{color:r},style:{backgroundColor:w(e,r)}})),{props:({ownerState:e})=>"inherit"===e.color&&"buffer"!==e.variant,style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),C=(0,l.Ay)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.dashed,r[`dashedColor${(0,p.A)(t.color)}`]]}})((0,d.A)(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter((0,c.A)()).map(([r])=>{let t=w(e,r);return{props:{color:r},style:{backgroundImage:`radial-gradient(${t} 0%, ${t} 16%, transparent 42%)`}}})]})),j||{animation:`${A} 3s infinite linear`}),P=(0,l.Ay)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.bar,r.bar1,r[`barColor${(0,p.A)(t.color)}`],("indeterminate"===t.variant||"query"===t.variant)&&r.bar1Indeterminate,"determinate"===t.variant&&r.bar1Determinate,"buffer"===t.variant&&r.bar1Buffer]}})((0,d.A)(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter((0,c.A)()).map(([r])=>({props:{color:r},style:{backgroundColor:(e.vars||e).palette[r].main}})),{props:{variant:"determinate"},style:{transition:"transform .4s linear"}},{props:{variant:"buffer"},style:{zIndex:1,transition:"transform .4s linear"}},{props:({ownerState:e})=>"indeterminate"===e.variant||"query"===e.variant,style:{width:"auto"}},{props:({ownerState:e})=>"indeterminate"===e.variant||"query"===e.variant,style:g||{animation:`${f} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),S=(0,l.Ay)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.bar,r.bar2,r[`barColor${(0,p.A)(t.color)}`],("indeterminate"===t.variant||"query"===t.variant)&&r.bar2Indeterminate,"buffer"===t.variant&&r.bar2Buffer]}})((0,d.A)(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter((0,c.A)()).map(([r])=>({props:{color:r},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[r].main}})),{props:({ownerState:e})=>"buffer"!==e.variant&&"inherit"!==e.color,style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>"buffer"!==e.variant&&"inherit"===e.color,style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter((0,c.A)()).map(([r])=>({props:{color:r,variant:"buffer"},style:{backgroundColor:w(e,r),transition:"transform .4s linear"}})),{props:({ownerState:e})=>"indeterminate"===e.variant||"query"===e.variant,style:{width:"auto"}},{props:({ownerState:e})=>"indeterminate"===e.variant||"query"===e.variant,style:v||{animation:`${y} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),R=a.forwardRef(function(e,r){let t=(0,u.b)({props:e,name:"MuiLinearProgress"}),{className:a,color:s="primary",value:l,valueBuffer:d,variant:c="indeterminate",...m}=t,h={...t,color:s,variant:c},f=(e=>{let{classes:r,variant:t,color:a}=e,n={root:["root",`color${(0,p.A)(a)}`,t],dashed:["dashed",`dashedColor${(0,p.A)(a)}`],bar1:["bar","bar1",`barColor${(0,p.A)(a)}`,("indeterminate"===t||"query"===t)&&"bar1Indeterminate","determinate"===t&&"bar1Determinate","buffer"===t&&"bar1Buffer"],bar2:["bar","bar2","buffer"!==t&&`barColor${(0,p.A)(a)}`,"buffer"===t&&`color${(0,p.A)(a)}`,("indeterminate"===t||"query"===t)&&"bar2Indeterminate","buffer"===t&&"bar2Buffer"]};return(0,i.A)(n,b,r)})(h),g=(0,o.I)(),y={},v={},A={};if(("determinate"===c||"buffer"===c)&&void 0!==l){y["aria-valuenow"]=Math.round(l),y["aria-valuemin"]=0,y["aria-valuemax"]=100;let e=l-100;g&&(e=-e),v.transform=`translateX(${e}%)`}if("buffer"===c&&void 0!==d){let e=(d||0)-100;g&&(e=-e),A.transform=`translateX(${e}%)`}return(0,x.jsxs)(k,{className:(0,n.A)(f.root,a),ownerState:h,role:"progressbar",...y,ref:r,...m,children:["buffer"===c?(0,x.jsx)(C,{className:f.dashed,ownerState:h}):null,(0,x.jsx)(P,{className:f.bar1,ownerState:h,style:v}),"determinate"===c?null:(0,x.jsx)(S,{className:f.bar2,ownerState:h,style:A})]})})},83452:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/ai/qwen-playground",function(){return t(97708)}])},97708:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>D});var a=t(37876),n=t(14232),i=t(77328),o=t.n(i),s=t(69261),l=t(3606),d=t(49106),c=t(76686),u=t(82702),p=t(1521),m=t(9092),h=t(87210),b=t(53019),x=t(29351),f=t(75283),g=t(76815),y=t(99358),v=t(40925);let A=(0,v.A)((0,a.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),j=(0,v.A)((0,a.jsx)("path",{d:"M6 6h12v12H6z"}),"Stop");var w=t(29190);let k=(0,v.A)((0,a.jsx)("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.3 3-3.4 3-5.7 0-3.9-3.1-7-7-7"}),"Lightbulb");var C=t(39706),P=t(68547),S=t(31906),R=t(41928),I=t(80075);function W({messages:e}){let r=(0,n.useRef)(null),t=(0,d.A)();return(0,n.useEffect)(()=>{r.current&&(r.current.scrollTop=r.current.scrollHeight)},[e]),(0,a.jsxs)(c.A,{ref:r,sx:{display:"flex",flexDirection:"column",p:2,width:"100%",height:"100%",overflowY:"auto",borderRadius:2,bgcolor:"dark"===t.palette.mode?"grey.900":"grey.50"},children:[0===e.length&&(0,a.jsxs)(c.A,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",opacity:.5},children:[(0,a.jsx)(c.A,{sx:{mb:2},children:(0,C.s)("Calculate",48)}),(0,a.jsx)(u.A,{variant:"h6",fontWeight:"medium",children:"Start a conversation"})]}),e.map((e,r)=>(0,a.jsx)(c.A,{sx:{display:"flex",mb:2,justifyContent:"assistant"===e.role?"flex-start":"flex-end"},children:(0,a.jsxs)(m.A,{elevation:1,sx:{maxWidth:"80%",borderRadius:4,px:2,py:1.5,bgcolor:"assistant"===e.role?"dark"===t.palette.mode?"grey.800":"background.paper":"primary.main",color:"assistant"===e.role?"dark"===t.palette.mode?"grey.100":"text.primary":"primary.contrastText",borderTopRightRadius:16*("user"!==e.role),borderTopLeftRadius:16*("assistant"!==e.role)},children:[(0,a.jsx)(c.A,{sx:{typography:"body1",wordBreak:"break-word","& p":{mt:0,mb:1,"&:last-child":{mb:0}},"& pre":{whiteSpace:"pre-wrap",bgcolor:"rgba(0,0,0,0.1)",p:1,borderRadius:1},"& code":{bgcolor:"rgba(0,0,0,0.1)",px:.5,borderRadius:.5}},children:(0,a.jsx)(P.oz,{remarkPlugins:[S.A,R.A],rehypePlugins:[I.A],children:e.content})}),"assistant"===e.role&&""===e.content&&(0,a.jsx)(c.A,{component:"span",sx:{display:"inline-block",width:8,height:16,verticalAlign:"middle",bgcolor:"grey.400",ml:1,animation:"pulse 1.5s infinite"}})]})},r))]})}t(95126);var L=t(76392);function M({text:e,percentage:r,total:t}){let n=(0,d.A)();return(0,a.jsxs)(c.A,{sx:{width:"100%",mb:2},children:[(0,a.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.5},children:[(0,a.jsx)(u.A,{variant:"caption",color:"text.secondary",noWrap:!0,sx:{maxWidth:"75%"},children:e}),(0,a.jsxs)(u.A,{variant:"caption",color:"text.secondary",children:[r?r.toFixed(0):0,"%"]})]}),(0,a.jsx)(L.A,{variant:"determinate",value:r||0,sx:{height:8,borderRadius:4,bgcolor:"dark"===n.palette.mode?"grey.800":"grey.200","& .MuiLinearProgress-bar":{borderRadius:4}}})]})}let $="u">typeof navigator&&!!navigator.gpu,B=["Solve the equation x^2 - 3x + 2 = 0","Lily is three times older than her son. In 15 years, she will be twice as old as him. How old is she now?","Write python code to compute the nth fibonacci number."];function z(){let e=(0,n.useRef)(null);(0,n.useRef)(null),(0,n.useRef)(null);let r=(0,d.A)(),i="u">typeof navigator&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),[o,s]=(0,n.useState)(null),[l,v]=(0,n.useState)(null),[C,P]=(0,n.useState)(""),[S,R]=(0,n.useState)([]),[I,L]=(0,n.useState)(!1),[z,D]=(0,n.useState)(""),[N,q]=(0,n.useState)([]),[E,_]=(0,n.useState)(null),[T,O]=(0,n.useState)(null),[F,H]=(0,n.useState)(!1);function U(e){q(r=>[...r,{role:"user",content:e}]),_(null),L(!0),D("")}return((0,n.useEffect)(()=>{e.current||(e.current=new Worker(t.tu(new URL(t.p+t.u(926),t.b)),{type:void 0}),e.current.postMessage({type:"check"}));let r=e=>{switch(e.data.status){case"loading":s("loading"),P(e.data.data);break;case"initiate":R(r=>[...r,e.data]);break;case"progress":R(r=>r.map(r=>r.file===e.data.file?{...r,...e.data}:r));break;case"done":R(r=>r.filter(r=>r.file!==e.data.file));break;case"ready":s("ready");break;case"start":q(e=>[...e,{role:"assistant",content:""}]);break;case"update":{let{output:r,tps:t,numTokens:a}=e.data;_(t),O(a),q(e=>{let t=[...e],a=t.at(-1);return a&&(t[t.length-1]={...a,content:a.content+r}),t})}break;case"complete":L(!1);break;case"error":v(e.data.data)}},a=e=>{console.error("Worker error:",e)};return e.current.addEventListener("message",r),e.current.addEventListener("error",a),()=>{e.current&&(e.current.removeEventListener("message",r),e.current.removeEventListener("error",a))}},[]),(0,n.useEffect)(()=>{0===N.filter(e=>"user"===e.role).length||N.at(-1)?.role!=="assistant"&&(_(null),e.current?.postMessage({type:"generate",data:{messages:N,reasonEnabled:F}}))},[N,I]),$)?(0,a.jsxs)(p.A,{maxWidth:"md",sx:{height:"calc(100vh - 140px)",display:"flex",flexDirection:"column",py:2},children:[null===o&&0===N.length&&(0,a.jsxs)(c.A,{sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:3},children:[(0,a.jsxs)(c.A,{sx:{textAlign:"center"},children:[(0,a.jsx)(w.A,{sx:{fontSize:64,color:"primary.main",mb:2}}),(0,a.jsx)(u.A,{variant:"h3",component:"h1",fontWeight:"bold",gutterBottom:!0,children:"Qwen3 WebGPU"}),(0,a.jsxs)(u.A,{variant:"subtitle1",color:"text.secondary",sx:{maxWidth:600},children:["A hybrid reasoning model that runs locally in your browser with WebGPU acceleration. Powered by ",(0,a.jsx)("a",{href:"https://huggingface.co/docs/transformers.js",target:"_blank",rel:"noreferrer",style:{color:r.palette.primary.main},children:"Transformers.js"}),"."]})]}),(0,a.jsxs)(m.A,{sx:{p:4,maxWidth:600,width:"100%",borderRadius:2},elevation:0,variant:"outlined",children:[(0,a.jsxs)(u.A,{variant:"body1",paragraph:!0,children:["You are about to download ",(0,a.jsx)("strong",{children:"Qwen3-0.6B"})," (~600MB). Includes ONNX Runtime Web. No data is sent to a server."]}),i&&(0,a.jsx)(h.A,{severity:"warning",sx:{mb:2},children:"Warning: iOS browsers (Safari, Chrome, etc.) have strict memory limits. If the page refreshes during download, the cache may roll back and require re-downloading. Close other tabs for best results."}),l&&(0,a.jsx)(h.A,{severity:"error",sx:{mb:2},children:l}),(0,a.jsx)(b.A,{variant:"contained",size:"large",fullWidth:!0,onClick:async()=>{if("u">typeof navigator&&navigator.storage&&navigator.storage.persist)try{await navigator.storage.persist()}catch(e){console.warn("Could not request persistent storage",e)}e.current?.postMessage({type:"load"}),s("loading")},disabled:null!==o||null!==l,children:"Load Model"})]})]}),"loading"===o&&(0,a.jsxs)(c.A,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:500,mx:"auto",width:"100%"},children:[(0,a.jsx)(u.A,{variant:"body1",gutterBottom:!0,align:"center",children:C}),S.map(({file:e,progress:r,total:t},n)=>(0,a.jsx)(M,{text:e,percentage:r,total:t},n))]}),"ready"===o&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.A,{sx:{flex:1,overflow:"hidden",mb:2,display:"flex",flexDirection:"column"},children:[(0,a.jsx)(W,{messages:N}),0===N.length&&(0,a.jsx)(x.A,{direction:"column",spacing:1,sx:{mt:2,alignItems:"center"},children:B.map((e,r)=>(0,a.jsx)(f.A,{label:e,onClick:()=>U(e),variant:"outlined",sx:{cursor:"pointer",maxWidth:"100%"}},r))})]}),(0,a.jsx)(u.A,{variant:"caption",sx:{display:"block",textAlign:"center",minHeight:20,mb:1,color:"text.secondary"},children:E&&N.length>0&&(0,a.jsx)(a.Fragment,{children:I?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.A,{component:"span",sx:{fontWeight:"bold",color:"text.primary"},children:E.toFixed(2)})," tokens/second"]}):(0,a.jsxs)(a.Fragment,{children:["Generated ",T," tokens in ",(T/E).toFixed(2)," seconds (",E.toFixed(2)," tokens/s)."," ",(0,a.jsx)(c.A,{component:"span",sx:{textDecoration:"underline",cursor:"pointer",color:"primary.main"},onClick:()=>{e.current?.postMessage({type:"reset"}),q([])},children:"Reset"})]})})}),(0,a.jsxs)(m.A,{elevation:3,sx:{p:1,display:"flex",alignItems:"center",borderRadius:4},children:[(0,a.jsx)(g.A,{fullWidth:!0,variant:"standard",placeholder:"Type your message...",value:z,onChange:e=>D(e.target.value),onKeyDown:e=>{!(z.length>0)||I||"Enter"!==e.key||e.shiftKey||(e.preventDefault(),U(z))},disabled:"ready"!==o,InputProps:{disableUnderline:!0,sx:{px:2,py:1.5}},multiline:!0,maxRows:4}),(0,a.jsxs)(b.A,{size:"small",onClick:()=>H(!F),sx:{mr:1,minWidth:"auto",borderRadius:2,color:F?"primary.main":"action.disabled",bgcolor:F?"primary.lighter":"transparent",border:"1px solid",borderColor:F?"primary.light":"transparent",display:"flex",flexDirection:"column",alignItems:"center",textTransform:"none",p:.5,lineHeight:1},children:[(0,a.jsx)(k,{fontSize:"small"}),(0,a.jsx)(u.A,{variant:"caption",sx:{fontSize:"0.6rem"},children:"Reason"})]}),I?(0,a.jsx)(y.A,{color:"error",onClick:function(){e.current?.postMessage({type:"interrupt"})},children:(0,a.jsx)(j,{})}):(0,a.jsx)(y.A,{color:"primary",onClick:()=>U(z),disabled:!z||"ready"!==o,children:(0,a.jsx)(A,{})})]}),(0,a.jsx)(u.A,{variant:"caption",align:"center",display:"block",color:"text.disabled",sx:{mt:1},children:"Generated content may be inaccurate."})]})]}):(0,a.jsxs)(c.A,{sx:{height:"calc(100vh - 200px)",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,a.jsx)(u.A,{variant:"h5",color:"error",align:"center",gutterBottom:!0,children:"WebGPU is not supported"}),(0,a.jsx)(u.A,{color:"text.secondary",align:"center",children:"Please use a modern browser that supports WebGPU."})]})}function D(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"Qwen3 AI Playground - DailyUtilityTools"}),(0,a.jsx)("meta",{name:"description",content:"Experiment with Qwen3-0.6B AI model directly in your browser using WebGPU."}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,a.jsxs)("div",{className:"app-container",children:[(0,a.jsx)(s.A,{}),(0,a.jsx)("div",{className:"app-layout",style:{maxWidth:"100%",padding:0},children:(0,a.jsx)("main",{className:"app-main-content",style:{width:"100%",padding:0,display:"flex",justifyContent:"center"},children:(0,a.jsx)(z,{})})}),(0,a.jsx)(l.w,{})]})]})}}},e=>{e.O(0,[2333,3372,961,6815,8284,7155,3348,5283,2903,8230,330,8206,3373,9723,3324,636,6593,8792],()=>e(e.s=83452)),_N_E=e.O()}]);